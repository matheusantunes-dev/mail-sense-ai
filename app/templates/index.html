<!doctype html>
<html lang="pt-br">

<head>
    <meta charset="utf-8" />

    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="{{ url_for('static', path='styles.css') }}">
    <script src="https://unpkg.com/htmx.org@1.9.12"></script>
    <script src="{{ url_for('static', path='app.js') }}"></script>
    <link rel="icon" href="{{ url_for('static', path='favicon.ico') }}">
    <title>MailSense AI - Classifica√ß√£o Inteligente</title>
</head>

<body>
    <button id="theme-toggle" aria-label="Alternar tema" class="themeToggle">
        ‚òÄÔ∏è
    </button>

    <div class="container">
        <!-- Header melhorado -->
        <header class="header">
            <div class="header__top">
                <img src="{{ url_for('static', path='logo.png') }}?v=1" alt="Descri√ß√£o da Imagem" class="header-image">
                <h1 class="header__title">MailSense AI</h1>
            </div>

            <p class="header__subtitle">
                Classifique e-mails automaticamente em <b>Produtivo</b> ou <b>Improdutivo</b> usando intelig√™ncia
                artificial e receba sugest√µes de respostas personalizadas.
            </p>
        </header>

        <!-- Cards informativos -->
        <div class="info-grid">
            <div class="info-card">
                <div class="info-card__icon info-card__icon--blue">üéØ</div>
                <div class="info-card__content">
                    <h3>Classifica√ß√£o Inteligente</h3>
                    <p>IA identifica automaticamente se o email requer a√ß√£o ou n√£o</p>
                </div>
            </div>
            <div class="info-card">
                <div class="info-card__icon info-card__icon--green">‚ö°</div>
                <div class="info-card__content">
                    <h3>Respostas Autom√°ticas</h3>
                    <p>Sugest√µes geradas baseadas no contexto do email</p>
                </div>
            </div>
            <div class="info-card">
                <div class="info-card__icon info-card__icon--purple">üí°</div>
                <div class="info-card__content">
                    <h3>Economia de Tempo</h3>
                    <p>Reduza triagem manual e foque no que importa</p>
                </div>
            </div>
        </div>

        <!-- Grid principal -->
        <div class="grid">
            <!-- INPUT -->
            <section class="card">
                <h2 class="card__title">üì• Entrada de Email</h2>

                <!-- Exemplos -->
                <div class="examples">
                    <label class="label">Exemplos para testar:</label>
                    <div class="examples__grid">
                        <div class="example-item"
                            onclick="useExample('Ol√°, gostaria de solicitar suporte t√©cnico urgente para o sistema de pagamentos. H√° uma falha cr√≠tica que est√° impedindo o processamento de transa√ß√µes desde √†s 9h de hoje. Preciso de um retorno o mais r√°pido poss√≠vel.')">
                            <div class="example-item__header">
                                <span class="example-item__title">Solicita√ß√£o de Suporte</span>
                                <span class="example-tag example-tag--prod">Produtivo</span>
                            </div>
                            <p class="example-item__text">Solicita√ß√£o urgente de suporte t√©cnico para sistema de
                                pagamentos...</p>
                        </div>

                        <div class="example-item"
                            onclick="useExample('Bom dia, entrei em contato na semana passada sobre a solicita√ß√£o #12345. Gostaria de saber o status atual dessa requisi√ß√£o e qual a previs√£o de conclus√£o. Aguardo retorno.')">
                            <div class="example-item__header">
                                <span class="example-item__title">Pedido de Status</span>
                                <span class="example-tag example-tag--prod">Produtivo</span>
                            </div>
                            <p class="example-item__text">Solicita√ß√£o de atualiza√ß√£o sobre caso em aberto...</p>
                        </div>

                        <div class="example-item"
                            onclick="useExample('Ol√° pessoal! Queria desejar um feliz natal a todos! Que 2024 seja repleto de conquistas e realiza√ß√µes para toda a equipe. Abra√ßos!')">
                            <div class="example-item__header">
                                <span class="example-item__title">Felicita√ß√µes</span>
                                <span class="example-tag example-tag--improd">Improdutivo</span>
                            </div>
                            <p class="example-item__text">Mensagem de felicita√ß√µes para a equipe...</p>
                        </div>

                        <div class="example-item"
                            onclick="useExample('Muito obrigado pelo atendimento de ontem! Foi excelente e resolveu meu problema rapidamente. Parab√©ns pelo trabalho!')">
                            <div class="example-item__header">
                                <span class="example-item__title">Agradecimento</span>
                                <span class="example-tag example-tag--improd">Improdutivo</span>
                            </div>
                            <p class="example-item__text">Agradecimento simples pelo atendimento...</p>
                        </div>
                    </div>
                </div>

                <!-- Formul√°rio -->
                <form class="form" hx-post="/analyze" hx-target="#result" hx-swap="innerHTML" hx-indicator="#loading"
                    enctype="multipart/form-data">
                    <div>
                        <label class="label">üìé Upload de Arquivo (.txt ou .pdf)</label>
                        <input class="input-file" type="file" name="email_file" accept=".txt,.pdf" />
                    </div>

                    <div>
                        <label class="label">‚úçÔ∏è Ou cole o texto do e-mail</label>
                        <textarea class="textarea" name="email_text" rows="8"
                            placeholder="Cole aqui o conte√∫do completo do e-mail para an√°lise..."></textarea>
                    </div>

                    <button class="button" type="submit">‚ú® Analisar com IA</button>
                </form>

                <p class="help">
                    üí° <b>Dica:</b> Voc√™ pode fazer upload de um arquivo ou colar o texto diretamente. Para testar
                    rapidamente, clique em um dos exemplos acima!
                </p>
            </section>

            <!-- OUTPUT -->
            <section class="card">
                <h2 class="card__title">üìä Resultado da An√°lise</h2>

                <!-- Loading indicator -->
                <div id="loading" class="loading htmx-indicator">
                    <div class="loading__spinner"></div>
                    <p>Analisando email com IA...</p>
                </div>

                <div id="result" class="result-empty">
                    <div class="result-empty__icon">üì¨</div>
                    <p><b class="analise">Aguardando an√°lise...</b></p>
                    <p>Envie um e-mail para ver a classifica√ß√£o e a resposta sugerida pela intelig√™ncia artificial.</p>
                </div>
            </section>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>Desenvolvido para o desafio t√©cnico <b>AutoU</b> üöÄ</p>
            <button class="button-small" type="button"
                onclick="window.open('https://github.com/Matheuscomputerbeat', '_blank')"> Desenvolvido por
                <b>Matheuscomputerbeat</b></p>
        </footer>
    </div>
</body>

</html>
